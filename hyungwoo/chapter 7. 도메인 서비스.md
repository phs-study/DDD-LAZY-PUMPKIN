# 7.1 여러 애그리거트가 필요한 기능
- `결제 금액 계산 로직` 을 어떤 애그리거트가 담당해야 하는가?
- ex) 주문 애그리거트에서 결제 금액 계산 로직을 구현하게 되면, 특별 할인이 들어가게 될 경우, 주문 애그리거트의 책임이 아니지만, 할인에 대한 로직을 추가하기 위한 코드 수정이 일어나게 된다.
- -> 이렇게 한 애그리거트에 넣기 애매한 도메인 기능을 억지로 특정 애그리거트에 구현하면 안된다. (해당 애그리거트가 자신의 책임 범위를 넘어서는 기능을 구현하기 때문에 코드가 길어지고 외부에 대한 의존이 높아지고, 코드가 복잡해지므로 수정이 어렵게 된다.)
- 이러한 문제를 해결 하는 방법이 바로 **도메인 기능을 별도의 서비스로 구현하는 것**이다.

# 7.2 도메인 서비스
- 도메인 영역에 위치한 도메인 로직을 표현할 때 사용한다.
  - 계산 로직 : 여러 애그리거트가 필요한 계산 로직이나, 한 애그리거트에 넣기에는 다소 복잡한 계산 로직
  - 외부 시스템 연동이 필요한 도메인 로직 : 구현 하기 위해 타 시스템을 사용해야 하는 도메인 로직

## 7.2.1 계산 로직과 도메인 서비스
- 할인 금액 규칙 계산과 같이 한 애그리거트에 넣기 애매한 도메인 개념을 구현하기 위해, 도메인 서비스를 사용하면 좋다.
- 도메인 서비스는 상태 없이 로직만 구현한다.
- 도메인 서비스 객체를 애그리거트에 주입하지 말자.
  - di 를 통해 애그리거트에 해당 서비스 객체를 필드로 가지지 말자.
  - 파라미터로 받고 사용하는 정도는 괜찮은가?
- 도메인 서비스에서 애그리거트를 전달받아서 도메인 기능을 실행할 수 있다.

## 7.2.2 외부 시스템 연동과 도메인 서비스
- 외부 시스템을 통해 필요한 도메인 로직을 도메인 서비스에서 실행할 수 있다.

## 7.2.3 도메인 서비스의 패키지 위치  
- 도메인 서비스는 도메인 로직을 표현하므로 다른 도메인 구성요소와 동일한 패키지에 위치한다.

## 7.2.4 도메인 서비스의 인터페이스와 클래스
- 도메인 서비스 로직이 고정되어 있지 않은 경우 도메인 서비스 자체를 인터페이스로 구현하여 사용할 수 있다.
